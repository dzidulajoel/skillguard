<!DOCTYPE html>
<html lang="fr">

<head>
        <meta charset="UTF-8">
        <title>Création QCM</title>
</head>

<body>
        <h2>Créer un QCM</h2>

        <div>
                <input type="number" id="nbQuestions" placeholder="Nombre de questions" min="1">
                <button onclick="genererQCM()">Générer</button>
        </div>

        <form id="qcmForm"></form>

        <script>
                function genererQCM() {
                        const nbQuestions = document.getElementById("nbQuestions").value;
                        const form = document.getElementById("qcmForm");
                        form.innerHTML = ""; // reset

                        for (let i = 1; i <= nbQuestions; i++) {
                                // conteneur question
                                let divQ = document.createElement("div");
                                divQ.style.marginBottom = "20px";

                                // texte question
                                let inputQ = document.createElement("input");
                                inputQ.type = "text";
                                inputQ.name = "question_" + i;
                                inputQ.placeholder = "Texte de la question " + i;

                                // type de réponse (radio ou checkbox)
                                let selectType = document.createElement("select");
                                selectType.name = "type_" + i;
                                let opt1 = new Option("Choix unique (radio)", "radio");
                                let opt2 = new Option("Choix multiple (checkbox)", "checkbox");
                                selectType.add(opt1);
                                selectType.add(opt2);

                                // bouton ajouter réponse
                                let btnAdd = document.createElement("button");
                                btnAdd.type = "button";
                                btnAdd.innerText = "Ajouter réponse";
                                btnAdd.onclick = function () {
                                        let type = selectType.value;
                                        let inputR = document.createElement("input");
                                        inputR.type = type;
                                        inputR.name = "rep_" + i;
                                        let textR = document.createElement("input");
                                        textR.type = "text";
                                        textR.placeholder = "Réponse";
                                        divQ.appendChild(document.createElement("br"));
                                        divQ.appendChild(inputR);
                                        divQ.appendChild(textR);
                                };

                                // ajouter au div
                                divQ.appendChild(document.createTextNode("Question " + i + ": "));
                                divQ.appendChild(inputQ);
                                divQ.appendChild(document.createElement("br"));
                                divQ.appendChild(selectType);
                                divQ.appendChild(btnAdd);

                                form.appendChild(divQ);
                        }
                }
        </script>
</body>

</html>